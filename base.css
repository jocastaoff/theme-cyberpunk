/**
 * CYBERPUNK 2077 - EDITION VARIABLES NUCLÉAIRES (2026)
 * Méthode "Auto-Apply" : On force la transparence via les variables globales.
 * Plus besoin de chercher les classes .chat_a7d72e bizarres.
 */

@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap');

:root {
    /* --- 1. CONFIGURATION CYBERPUNK --- */
    --glass-blur: 10px;           /* Flou derrière les vitres */
    --glass-opacity: 0.5;         /* Opacité (plus bas = plus transparent) */
    
    /* Couleurs */
    --red: 255, 0, 60;
    --blue: 114, 234, 248;
    --yellow: 243, 230, 0;
    --green: 71, 213, 139;

    /* Dégradé de fond (Si tu veux une image, change ici) */
    --bg-gradient: linear-gradient(180deg, #450a1f 0%, #1a050d 30%, #000000 100%);

    /* --- 2. LE "HACK" AUTO-DETECT (C'est ici que la magie opère) --- */
    /* On force toutes les variables de fond de Discord à devenir transparentes */
    
    /* Variables de base (Dark mode) */
    --background-primary: rgba(0,0,0, var(--glass-opacity)) !important;
    --background-secondary: rgba(0,0,0, var(--glass-opacity)) !important;
    --background-secondary-alt: transparent !important;
    --background-tertiary: transparent !important;
    --background-accent: rgba(var(--red), 0.2) !important;
    --background-floating: rgba(0,0,0, 0.9) !important;
    
    /* Variables de structure (Overlay) */
    --bg-overlay-1: transparent !important;
    --bg-overlay-2: transparent !important;
    --bg-overlay-3: transparent !important;
    --bg-overlay-chat: transparent !important;
    --bg-overlay-app-frame: transparent !important;
    
    /* Variables Base (Nouvelle architecture Discord) */
    --bg-base-primary: transparent !important;
    --bg-base-secondary: transparent !important;
    --bg-base-tertiary: transparent !important;
    
    /* Variables Scrollbar */
    --scrollbar-auto-track: transparent !important;
    --scrollbar-auto-thumb: rgb(var(--red)) !important;

    /* Police */
    --font-primary: 'Rajdhani', sans-serif;
}

/* ========================================================================
   3. APPLICATION DU FOND
   ======================================================================== */

html, body {
    background: var(--bg-gradient) !important;
    background-attachment: fixed !important;
    background-size: cover !important;
}

/* Le conteneur principal DOIT être transparent */
#app-mount {
    background: transparent !important;
}

/* ========================================================================
   4. PERCER LE NOIR (COUCHES RECALCITRANTES)
   ======================================================================== */

/* Cette liste vise les gros blocs qui ont souvent un fond noir forcé */
div[class*="app_"], 
div[class*="bg_"], 
div[class*="chat_"], 
div[class*="sidebar_"], 
div[class*="privateChannels_"], 
div[class*="scroller_"], 
div[class*="panels_"],
div[class*="standardSidebarView_"], /* Paramètres */
div[class*="contentRegion_"] {
    background-color: transparent !important;
}

/* ========================================================================
   5. STYLISATION CYBERPUNK (Bordures & Néons)
   ======================================================================== */

/* Sidebar Gauche (Salons) avec flou */
div[class*="sidebar_"] {
    background: rgba(0, 0, 0, 0.4) !important;
    backdrop-filter: blur(var(--glass-blur));
    border-right: 1px solid rgb(var(--red));
}

/* Barre du haut (Titre) */
div[class*="title_"][class*="themed_"] {
    background: rgba(0, 0, 0, 0.6) !important;
    backdrop-filter: blur(var(--glass-blur));
    border-bottom: 2px solid rgb(var(--red));
}

/* Zone de chat (Messages) */
div[class*="chatContent_"] {
    background: rgba(0,0,0,0.2) !important; /* Légèrement sombre pour lire le texte */
}

/* Barre de saisie (Input) */
div[class*="scrollableContainer_"] {
    background: rgba(23, 13, 22, 0.8) !important;
    border: 1px solid rgb(var(--blue));
    border-radius: 4px;
}

/* Liste des serveurs (Tout à gauche) */
nav[class*="wrapper_"][class*="guilds"] {
    background: rgba(0,0,0,0.5) !important;
    backdrop-filter: blur(var(--glass-blur));
}

/* Liste des membres (Droite) */
div[class*="container_"][class*="members"] {
    background: rgba(0,0,0,0.4) !important;
    backdrop-filter: blur(var(--glass-blur));
    border-left: 1px solid rgb(var(--red));
}

/* Panneau utilisateur (Bas gauche) */
section[class*="panels_"] {
    background: rgba(0,0,0,0.8) !important;
    border-top: 1px solid rgb(var(--red));
}

/* Popups et Modals (Doivent être lisibles) */
div[class*="modal_"], div[class*="popout_"], div[class*="menu_"] {
    background: rgba(10, 5, 8, 0.95) !important;
    border: 1px solid rgb(var(--blue));
    backdrop-filter: blur(20px);
}

/* ========================================================================
   6. DÉTAILS (Scrollbar, Mentions)
   ======================================================================== */

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background: rgb(var(--red)); }

/* Mentions */
div[class*="mentioned_"] {
    background: rgba(var(--yellow), 0.1) !important;
    border-left: 2px solid rgb(var(--yellow));
}